# Планирование: анализ, идентификация проблем и поиск решений

## Существующие и потенциальные проблемные места:
- **Отсутствие мониторинга и диагностики:** Не реализованы механизмы трейсинга, логирования и кэширования.
Отсутствуют системы оповещений, что приводит к реагированию на инциденты только после жалоб пользователей.
- **Проблемы с MES-приложением:** Неоптимальная конфигурация отображения заказов в MES-приложении приводит к увеличению
времени, затрачиваемого пользователями на поиск заказов. Возможны зависания заказов. Приложение демонстрирует низкую
производительность, причина которой не может быть определена из-за отсутствия инструментов мониторинга.
- **Несогласованность данных и риски:** Отсутствие централизованного оркестратора статусов заказов может приводить к 
несогласованности данных. Совместное использование базы данных CRM API и Shop API увеличивает связность приложений и 
риски возникновения ошибок.
- **Ограниченная масштабируемость:** Отсутствует горизонтальное масштабирование приложений, что приводит к длительному 
времени обработки запросов в MES-приложении и уязвимости к перегрузкам. Не реализован механизм Backpressure для MES API, 
что создает угрозу отказа сервиса при высокой нагрузке.

## Инициативы, которые необходимы для устранения нежелательных ситуаций:
- **Внедрение комплексной системы мониторинга:** Реализация трейсинга, логирования и кэширования для обеспечения 
детального анализа работы системы и выявления узких мест.
- **Разработка системы оповещений:** Настройка алертов для оперативного реагирования на ошибки и проблемные ситуации, 
включая задержки обработки заказов.
- **Оптимизация работы MES-приложения:** Настройка сортировки и фильтрации заказов в MES-приложении для повышения 
эффективности работы пользователей. Проведение анализа производительности с использованием инструментов трейсинга 
для выявления и устранения “узких мест”.
- **Внедрение сервис-оркестратора:** Разработка и внедрение сервис-оркестратора с собственной базой данных для 
управления статусами заказов и обеспечения их консистентности.
- **Разделение баз данных:** Разделение баз данных CRM API и Shop API для уменьшения связности микросервисов и повышения
их автономности.
- **Обеспечение масштабируемости и устойчивости:** Настройка горизонтального масштабирования для нагруженных сервисов и 
внедрение механизма Backpressure для MES API для предотвращения перегрузок.

## Целевая архитектура через полгода:
- Внедрена комплексная система мониторинга (трейсинг, логирование, алертинг, кэширование).
- Разделены базы данных CRM API и Shop API.
- Настроено горизонтальное масштабирование для критически важных сервисов.

## Три наиболее важных пункта, которые необходимо выполнить в первую очередь:
1. **Оптимизация производительности MES-приложения:** Проведение анализа и устранение проблем с производительностью 
MES-приложения, настройка сортировки заказов и, при необходимости, реализация горизонтального масштабирования.
2. **Внедрение системы мониторинга и оповещений:** Настройка трейсинга, логирования и алертинга для обеспечения 
эффективного мониторинга и оперативного реагирования на инциденты.
3. **Разработка и внедрение сервис-оркестратора:** Создание сервис-оркестратора для управления статусами заказов и 
обеспечения консистентности данных.